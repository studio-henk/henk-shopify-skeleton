{% comment %}
  Section: henk-section-splitscreen.liquid
  Purpose: Split-screen section with media (image or video) and text content.
{% endcomment %}
{% comment %} {{ section.settings.video_src | json }} {% endcomment %}
{% assign media_obj = section.settings.video_src %}
{% if media_obj == blank %}
  {% assign media_obj = section.settings.image_src %}
{% endif %}

<!-- bgColor: section.settings.bg_color, -->

{% render 'henk-split-screen',
  id: section.id,
  title: section.settings.heading,
  caption: section.settings.caption,
  level: section.settings.heading_level,
  display: section.settings.display_heading,
  content: section.settings.content,
  media: media_obj,
  poster: section.settings.video_poster,
  imageAlt: section.settings.media.alt,
  imageLink: section.settings.media_link,
  imageLinkTargetBlank: section.settings.media_link_blank,
  buttonUrl: section.settings.buttonUrl,
  buttonText: section.settings.buttonText,
  buttonVariant: section.settings.buttonVariant,
  reverse: section.settings.reverse,
  rounded: section.settings.rounded_corners
%}

<!-- { -->
<!-- "type": "color", -->
<!-- "id": "bgColor", -->
<!-- "label": "Background color" -->
<!-- }, -->

{% schema %}
{
  "name": "Split Screen Section",
  "settings": [
    {
      "type": "text",
      "id": "id",
      "label": "Section ID"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Title"
    },
    {
      "type": "richtext",
      "id": "content",
      "label": "Content"
    },
    {
      "type": "text",
      "id": "caption",
      "label": "Caption"
    },
    {
      "type": "number",
      "id": "level",
      "label": "Heading level",
      "default": 2
    },
    {
      "type": "checkbox",
      "id": "display",
      "label": "Display style",
      "default": false
    },
    {
      "type": "header",
      "content": "Media"
    },
    {
      "type": "radio",
      "id": "media_type",
      "label": "Media type",
      "default": "image",
      "options": [
        { "value": "image", "label": "Image" },
        { "value": "video", "label": "Video" }
      ]
    },
    {
      "type": "image_picker",
      "id": "image_src",
      "label": "Image",
      "visible_if": "{{ section.settings.media_type == 'image' }}"
    },
    {
      "type": "video",
      "id": "video_src",
      "label": "Video",
      "visible_if": "{{ section.settings.media_type == 'video' }}"
    },
    {
      "type": "checkbox",
      "id": "video_has_audio",
      "label": "Video has audio",
      "default": false,
      "visible_if": "{{ section.settings.media_type == 'video' }}"
    },
    {
      "type": "image_picker",
      "id": "video_poster",
      "label": "Poster image",
      "visible_if": "{{ section.settings.media_type == 'video' }}"
    },
    {
      "type": "checkbox",
      "id": "rounded_corners",
      "label": "Rounded corners",
      "default": false
    },
    {
      "type": "text",
      "id": "imageAlt",
      "label": "Image alt text"
    },
    {
      "type": "url",
      "id": "imageLink",
      "label": "Media link URL"
    },
    {
      "type": "checkbox",
      "id": "imageLinkTargetBlank",
      "label": "Open link in new tab",
      "default": false
    },
    {
      "type": "url",
      "id": "buttonUrl",
      "label": "Button URL"
    },
    {
      "type": "text",
      "id": "buttonText",
      "label": "Button text"
    },
    {
      "type": "select",
      "id": "buttonVariant",
      "label": "Button style",
      "options": [
        { "value": "default", "label": "Default" },
        { "value": "primary", "label": "Primary" }
      ],
      "default": "default"
    },
    {
      "type": "checkbox",
      "id": "reverse",
      "label": "Reverse order",
      "default": false
    }
  ],
  "presets": [
    {
      "name": "Split Screen",
      "category": "Custom"
    }
  ]
}
{% endschema %}
