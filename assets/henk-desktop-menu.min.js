import closeIcon from"@assets/icons/feather-x.svg?raw";document.addEventListener("DOMContentLoaded",()=>{const e=window.matchMedia("(min-width: 768px)");let n=null;const t=e=>{e.matches&&!n?n=(()=>{const e=document.documentElement,n=document.querySelector(".henk-header");if(!n)return null;const t={mainLevel:".main-level",utils:"[data-js-utils]",html:e};let l=null;const o=n.querySelector(t.utils),s=document.createElement("button");s.type="button",s.className="henk-button henk-button--ghost henk-button--small close-menu",s.setAttribute("aria-label","Close menu");const a=n.getAttribute("data-js-close-label")||"Close";s.innerHTML=`\n      <i class="henk-icon">\n              ${closeIcon}\n            </i>\n${a.toUpperCase()}\n    `,s.style.display="none",null==o||o.insertAdjacentElement("afterend",s);let r=null;function u(e){n&&(n.classList.toggle("henk-header--is-open",e),s.style.display=e?"flex":"none",s.style.zIndex=e?"9":"1",o&&(o.style.display=e?"none":"flex"))}let i=null;const c=null==n?void 0:n.querySelectorAll("details[name='main-nav']");function d(){null==n||n.querySelectorAll("details[open]").forEach(e=>e.removeAttribute("open")),u(!1)}function m(){l&&(t.html.removeEventListener("keydown",l),l=null)}return c&&(i=new MutationObserver(()=>{const e=Array.from(c).some(e=>e.hasAttribute("open"));u(e),e?(l=e=>{"Escape"===e.key&&d()},t.html.addEventListener("keydown",l),r=function(){const e=null==n?void 0:n.querySelector("details[name='main-nav']");if(!e)return null;const t=e.querySelector("summary"),l=s;if(!t||!l)return null;const o=e=>{"Tab"===e.key&&(e.shiftKey||document.activeElement!==l?e.shiftKey&&document.activeElement===t&&(e.preventDefault(),l.focus()):(e.preventDefault(),t.focus()))};return null==n||n.addEventListener("keydown",o),()=>{null==n||n.removeEventListener("keydown",o)}}()):(m(),null==r||r())}),c.forEach(e=>i.observe(e,{attributes:!0,attributeFilter:["open"]}))),console.log("Init desktop menu"),n&&s.addEventListener("click",()=>d()),()=>{n&&n.querySelectorAll("details[name='main-nav'][open]").forEach(e=>e.open=!1),s.remove(),n.classList.remove("henk-header--is-open"),o&&(o.style.display="flex"),m(),null==i||i.disconnect(),i=null}})():!e.matches&&n&&(n(),n=null,console.log("Desktop menu destroyed"))};t(e),e.addEventListener("change",t)});