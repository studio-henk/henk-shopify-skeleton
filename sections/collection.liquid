{% comment %}
  This section is used in the collection template to render collection page
  listing all products within a collection.

  https://shopify.dev/docs/storefronts/themes/architecture/templates/collection
{% endcomment %}

{% comment %} {{ collection | json }} {% endcomment %}

{% render 'henk-section-header', title: collection.title, text: collection.description %}

{% if collection.products.size > 0 %}
  <section class="shopify-section" id="shopify-section-lister">
    {% comment %}
      sorting
      {{ collection.sort_options | json }}
    {% endcomment %}

    <div class="henk-grid-options-bar">
      <div class="henk-grid-options-bar__filters">
        filter-widget
        {% comment %}
          {% render 'grid-filter-widget' %}
        {% endcomment %}
      </div>
      <div class="henk-grid-options-bar__sort">
        {% comment %}
          {% render 'grid-sort-widget' %}
        {% endcomment %}
        {% render 'henk-collection-sort' %}
      </div>
    </div>
    <div class="henk-lister-grid henk-section">
      {% paginate collection.products by 20 %}
        {% for product in collection.products %}
          {% render 'henk-card', product: product, collection: collection, card_variant: null %}
        {% endfor %}
        {{ paginate | default_pagination }}
      {% endpaginate %}
    </div>
  </section>
{% else %}
  <div style="max-width: 600px; margin-inline: auto;">
    {% render 'henk-info-box',
      variant: 'danger',
      title: 'Geen producten gevonden',
      content: '<p>Nog geen producten gekoppeld aan deze collectie.</p>',
      icon_name: 'danger'
    %}
  </div>
{% endif %}
{% stylesheet %}
  .henk-grid-options-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-2);
    width: min(--size-width-content, 100% - 3rem);
  }

  .henk-grid-options-bar__filters {
    flex: 2;
  }

  .henk-grid-options-bar__sort {
    flex-shrink: 0;
    flex-grow: 1;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "t:general.collection",
  "settings": []
}
{% endschema %}
